const graph_objects =  { data(){ return { s2_ssssssepyt: { "text": "T", "number": "N", "dict": "O", "list": "L", "boolean": "B", "null": "NL" }, s2_snoitca_hparg: ["keywordSearch","listObjects","getObject","getObjectTemplate","getObjectRecords","getObjectNodes","getObjectLibrarySettings","objectCreate","objectCreateWithTemplate","objectLabelUpdate","objectTypeUpdate","objectAliasUpdate","objectInstanceUpdate","objectPropertiesUpdate","objectHtmlUpdate","objectNodesTruncate","objectDelete","objectConverToDataset","objectConverToNode","objectTemplatePropertyCreate","objectTemplatePropertyUpdate","objectTemplatePropertyDelete","objectTemplateEnable","objectTemplateOrderUpdate","dataSetRecordCreate","dataSetRecordUpdate","dataSetRecordDelete","dataSetTruncate"], s2_sdohtem_hparg: { "keywordSearch": { "inputs": { "keyword": {'t':"T", "v": "value", 'types':'T,V'} } }, "listObjects": { "inputs": { "sort": {'t':"T", "v": "ID", 'types':'T,V'}, "order": {'t':"T", "v": "asc", 'types':'T,V'}, "from": {'t':"T", "v": "", 'types':'T,V'}, "last": {'t':"T", "v": "", 'types':'T,V'}, "limit": {'t':"N", "v": 100, 'types':'N'} } }, "getObject": { "inputs": { "object_id": {'t':"T", "v": "T1", 'types':'T,V'} } }, "getObjectTemplate": { "inputs": { "object_id": {'t':"T", "v": "T1", 'types':'T,V'} } }, "getObjectRecords": { "inputs": { "object_id": {'t':"T", "v": "T1", 'types':'T,V'}, "sort": {'t':"T", "v": "_id", 'types':'T,V'}, "order": {'t':"T", "v": "asc", 'types':'T,V'}, "from": {'t':"T", "v": "", 'types':'T,V'}, "last": {'t':"T", "v": "", 'types':'T,V'}, "filter": {'t':"L", "expand":true, "v": [ {'t':"O", "v": { "field":{"t":"T", "v":"ID"}, "ops": {"t":"T", "v":"=", 'list':['=','!=',"<", "<=", ">", ">="]}, "value":{"t":"T", "v":"", 'types':'T,N,V'} }, "fixed": true} ], "template": {'t':"O", "v": { "field":{"t":"T", "v":"ID"}, "ops": {"t":"T", "v":"=", 'list':['=','!=',"<", "<=", ">", ">="]}, "value":{"t":"T", "v":"", 'types':'T,N,V'} }, "fixed": true}} } }, "getObjectNodes": { "inputs": { "object_id": {'t':"T", "v": "T1", 'types':'T,V'}, "sort": {'t':"T", "v": "id", 'types':'T,V'}, "order": {'t':"T", "v": "asc", 'types':'T,V'}, "from": {'t':"T", "v": "", 'types':'T,V'}, "last": {'t':"T", "v": "", 'types':'T,V'}, "filter": {'t':"L", "expand":true, "v": [ {'t':"O", "v": {  "field":{"t":"T", "v":"ID"},  "ops": {"t":"T", "v":"=", 'list':['=','!=',"<", "<=", ">", ">="]},  "value":{"t":"T", "v":"", 'types':'T,N,V'} }, "fixed": true} ],  "template": {'t':"O", "v": { "field":{"t":"T", "v":"ID"}, "ops": {"t":"T", "v":"=", 'list':['=','!=',"<", "<=", ">", ">="]}, "value":{"t":"T", "v":"", 'types':'T,N,V'} }, "fixed": true} } } }, "getObjectLibrarySettings": { "inputs": { } }, "objectCreate": { "inputs": { "label": {"t":"T", "v":"", 'types':'T,V'}, "instance_of": { 't':"GT", "v": { "v": {"t":"T", "v":"", 'types':'T,V'}, "i": {"t":"T", "v":"", 'types':'T,V'} } }, "type": {"t":"KV", "k":"N", "v": "Node", 'types':'KV', 'listkv':"graph-node-type"}, } }, "objectCreateWithTemplate": { "inputs": { "label": {"t": "T","v": "Label", "types":"T,V"}, "instance_of": {"t": "GT", "v": { "i": {"t":"T", "v":"T1", "types": "T,V"},"v": {"t":"T", "v":"Root", "types": "T,V"}} }, "type": {"t": "KV", "k": "N", "v": "Node", "list-kv": "graph-node-type"}, "properties": {"t": "OG", "v": [ { "key": {"t": "T", "v": "p1", "types": "T,V"}, "value": {"t": "L", "v": [  {"t": "T", "v": "", "types": "T,N,V,GT"}  ], "expand": true, "template": {"t": "T", "v": "", "types": "T,N,V,GT"} } }], "expand": true, "template": { "key": {"t": "T", "v": "p1", "types": "T,V"}, "value": {"t": "L", "v": [  {"t": "T", "v": "", "types": "T,N,V,GT"}  ], "expand": true, "template": {"t": "T", "v": "", "types": "T,N,V,GT"} } } }, "template": {'t': "OG", "v": [ { "key": {"t": "T", "v": "p1"}, "value": {"t": "O", "v": {  "name": {"t": "T", "v": "Description", "types": "T,N,V"},  "type": {"t": "KV", "k": "T", "v": "text"},  "m": {"t": "B", "v": "true"} },"fixed": true} }, { "key": {"t": "T", "v": "p2"}, "value": {"t": "O", "v": {  "name": {"t": "T", "v": "Info", "types": "T,N,V"},  "type": {"t": "KV", "k": "T", "v": "text"},  "m": {"t": "B", "v": "true"} },"fixed": true} }], "expand": true, "template": { "key": {"t": "T", "v": "p2"}, "value": {"t": "O", "v": {  "name": {"t": "T", "v": "Info", "types": "T,N,V"},  "type": {"t": "KV", "k": "T", "v": "text"},  "m": {"t": "B", "v": "true"} },"fixed": true} } }, } }, "objectLabelUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "label": {"t": "T","v": "", 'types':'T,V'} } }, "objectTypeUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "type": {"t": "T","v": "N", 'types':'T,V'} } }, "objectAliasUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "alias": {'t':"L", "expand":true, "v": [ {"t": "T", "v": "", 'types':'T,V'} ], "template": {"t": "T", "v": "", 'types':'T,V'}} } }, "objectInstanceUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "i_of": {"t": "GT", "v": { "i": {"t":"T", "v":"T1", "types": "T,V"},"v": {"t":"T", "v":"Root", "types": "T,V"} }, 'types':'GT'} } }, "objectPropertiesUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "props": {'t':"O", "v": [ {  "key": {'t':"T", "v":"p1"},  "value": {'t':"L", "v": [  {"t": "T","v": "", 'types':'T,V'}  ],  "expand":true,   "template": {"t": "T","v": "", 'types':'T,V'}  } } ],  "expand":true,  "template": { "key": {'t':"T", "v":"p1"}, "value": {'t':"L", "v": [  {"t": "T","v": "", 'types':'T,V'}  ],  "expand":true,   "template": {"t": "T","v": "", 'types':'T,V'} } } } } }, "objectHtmlUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "body": {'t':"TT", "v": "", 'types':'TT,V'} } }, "objectNodesTruncate": { "inputs": { "instance_id": {'t':"T", "v": "", 'types':'T,V'} } }, "objectDelete": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'} } }, "objectConverToDataset": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "label_to": {'t':"T", "v": "", 'types':'T,V'}, } }, "objectConverToNode": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "primary_field": {'t':"T", "v": "default-id", 'types':'T,V'}, "label_field": {'t':"T", "v": "p1", 'types':'T,V'}, "alias_field": {'t':"T", "v": "", 'types':'T,V'}, } }, "objectSetIcon": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "ic": {"t":"IC", "v":"", "it": "", 'types':'IC'},    } }, "objectTemplatePropertyCreate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "property": {"t": "T","v": "", 'types':'T,V'}, "template": {'t':"O", "v": { "label": {"t": "T","v": "Description", 'types':'T,V'}, "type": {"t": "KV","v": "Text", "k": "T", "listkv":"graph-data-type"}, "mandatory": {"t": "B","v": "false"} }, "fixed": true} } }, "objectTemplatePropertyUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "property": {"t": "T","v": "", 'types':'T,V'}, "template": {'t':"O", "v": { "label": {"t": "T", "v": "Description", 'types':'T,V'}, "type": {"t": "KV", "v": "Text", "k": "T", "listkv":"graph-data-type"}, "mandatory": {"t": "B", "v": "false"} },"fixed":true} } }, "objectTemplatePropertyDelete": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "property": {"t": "T","v": "", 'types':'T,V'}, } }, "objectTemplateEnable": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'} } }, "objectTemplateOrderUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "order": {'t':"L", "expand":true, "v": [ {'t':"T","v":"p1"}, {'t':"T","v":"p2"} ],  'types':'L,V',  "template": {'t':"T","v":"p1"} } } }, "dataSetRecordCreate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "record_id": {'t':"T", "v": "", 'types':'T,V'}, "properties": {'t':"O", "expand":true, "v": [ { "key": {'t':"T", "v":"p1"}, "value": {'t':"L", "v": [  {"t": "T","v": "", 'types':'T,V'} ]} } ], "template": { "key": {'t':"T", "v":"p1"}, "value": {'t':"L", "v": [  {"t": "T","v": "", 'types':'T,V'} ]} }} } }, "dataSetRecordUpdate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "record_id": {'t':"T", "v": "", 'types':'T,V'}, "properties": {'t':"O", "expand":true, "v": [ { "key": {'t':"T", "v":"p1"}, "value": {'t':"L", "v": [  {"t": "T","v": "", 'types':'T,V'} ]} } ], "template":{ "key": {'t':"T", "v":"p1"}, "value": {'t':"L", "v": [  {"t": "T","v": "", 'types':'T,V'} ]} }}, "method": {'t':"T", "v": "Replace"} } }, "dataSetRecordDelete": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'}, "record_id": {'t':"T", "v": "", 'types':'T,V'} } }, "dataSetTruncate": { "inputs": { "object_id": {'t':"T", "v": "", 'types':'T,V'} } } } } }, props: ['datafor', 'v','datavar', 'rootdata', 'refname', 'vars'], mounted: function(){ this.init(); }, watch: { v: { handler: function(){ this.$emit("updated"); }, deep:true } }, methods: { s2_ooooooohce: function(s2_vvvvvvvvvv){ if( typeof(s2_vvvvvvvvvv)=="object" ){ console.log( JSON.stringify(s2_vvvvvvvvvv,null,4) ); }else{ console.log( s2_vvvvvvvvvv ); } }, init: function(){ if( 'stage' in this.v['data'] ){ if( this.v['data']['stage'] == "initiate" ){ this.v['data'] = { "db":{"th":"GraphDB", "i":{"t":"T","v":""}, "l":{"t":"T","v":""} }, "action":{"t":"T","v":""}, "inputs":{"t":"O", "v":{}}, "output":{"t":"T", "v":"dbResult"}, "struct_":{'t':'O','v':{ 'status': {"t":"T", "v":"success"}, 'error': {"t":"T", "v":""}, 'data': {"t":"O", "v":{}} }}, }; delete( this.v['data']['stage'] );  } } }, s2_eulav_evired: function( v ){ if( v['t'] == "T" || v['t'] == "TT" ||  v['t'] == "HT" || v['t']== "D" ){ return v['v'].toString(); }else if( v['t']== "N" ){ return Number(v['v']); }else if( v['t'] == 'O' ){ return this.s2_noitaton_tcejbo_teg(v['v']); }else if( v['t'] == 'L' ){ return this.s2_noitaton_tsil_teg(v['v']); }else if( v['t'] == 'NL' ){ return null; }else if( v['t'] == 'B' ){ return (v['v']=="true"||v['v']===true?true:false); }else if( v['t'] == 'DT' ){ return (v['v']['v'] + " " + v['v']['tz']).toString(); }else if( v['t'] == 'D' || v['t'] == 'TS' ){ return (v['v']).toString(); }else if( v['t'] == 'D' || v['t'] == 'DT' || v['t'] == 'TS' ){ return (v['v']).toString(); }else{ return "unknown: "+ v['t']; } }, s2_kkkcabllac: function( c ){ if( c == "s2_ttceles_bd" ){  }else if( c == "s2_tceles_noitca" ){ this.v['data']['inputs']['v'] = []; var i = []; var a = this.v['data']['action']['v']+''; if( a in this.s2_sdohtem_hparg ){ if( 'inputs' in this.s2_sdohtem_hparg[ a ] ){ i = this.s2_sdohtem_hparg[ a ]['inputs']; } } setTimeout(function(v,i){v.v['data']['inputs']['v'] = i;},100,this,i); }else{ console.log("Callback: " + c + " not defined!"); } }, get_types: function( vd ){ if( typeof(vd) == "object" ){ if( 'types' in vd ){ return vd['types']; } if( 't' in vd == false ){ console.error( 't not found for get_types ' ); this.s2_ooooooohce( vd ); return ''; } return vd['t']; }else{ console.error( 'get_types input error' ); this.s2_ooooooohce( vd ); return ''; } }, s2_ereht_stupni_si: function(){ if( 'inputs' in this.v['data'] ){ if( typeof(this.v['data']['inputs']['v']) =="object" ){ if( 'length' in this.v['data']['inputs']['v'] == false ){ if( Object.keys(this.v['data']['inputs']['v']).length > 0 ){ return true; }else{ console.log( 3 ); } }else{ console.log( 2 ); } }else{ console.log( 5 ); } }else{ console.log( 1 ); } return false; }, add_input_value_key: function(vi){ var vn = prompt("New Key?"); var vt = JSON.parse(JSON.stringify(this.v['data']['inputs']['v'][ vi ]['template'])); vt['key']['v'] = vn; this.v['data']['inputs']['v'][ vi ]['v'].push( vt ); }, add_input_value_item: function(vi){ var vt = JSON.parse(JSON.stringify(this.v['data']['inputs']['v'][ vi ]['template'])); this.v['data']['inputs']['v'][ vi ]['v'].push( vt ); } }, template: `<div style="border-left:1px solid orange; padding-left:10px;" > <template v-if="'db' in v['data']" > <div style="display:flex; column-gap:5px; margin-bottom:5px;" > <div style="min-width:100px;text-align:right;">Database</div> <div title="Database" data-type="dropdown" data-list="thing" data-thing="GraphDB" v-bind:data-for="datafor" v-bind:data-var="datavar+':data:db'" v-bind:data-context-callback="refname+':s2_ttceles_bd'"   >{{ v['data']['db']['l']['v'] }}</div> </div> <template v-if="v['data']['db']['l']['v']!=''" > <div style="display:flex; column-gap:5px; margin-bottom:5px;" > <div style="min-width:100px;text-align:right;">Action</div> <div title="Action" data-type="dropdown" data-list="list" v-bind:data-for="datafor" v-bind:data-var="datavar+':data:action:v'" v-bind:data-list-values="s2_snoitca_hparg" v-bind:data-context-callback="refname+':s2_tceles_noitca'"   >{{ v['data']['action']['v'] }}</div> </div> <template v-if="s2_ereht_stupni_si()" > <div style="display:flex; column-gap:5px; margin-bottom:5px;" > <div style="min-width:100px;text-align:right;">Inputs</div> <div> <div v-for="vd,vi in v['data']['inputs']['v']" style="display:flex; column-gap:5px; margin-bottom:5px; border-bottom:1px solid #ccc;" > <div style="min-width:100px;">{{ vi }}</div> <div> <inputtextbox2 v-bind:datafor="datafor" v-bind:v="vd" v-bind:types="get_types(vd)" v-bind:datavar="datavar+':data:inputs:v:'+vi" v-bind:vars="vars"></inputtextbox2> </div> </div> </div> </div> </template> <pre>{{ v['data']['inputs'] }}</pre> <div style="display:flex; column-gap:5px; margin-bottom:5px;" > <div style="min-width:100px;text-align:right;">Output</div> <div title="Output Variable" class="editable" v-bind:data-for="datafor" v-bind:data-var="datavar+':data:output:v'"><div contenteditable spellcheck="false" data-type="editable" v-bind:data-for="datafor" v-bind:data-var="datavar+':data:output:v'" data-allow="T" >{{ v['data']['output']['v'] }}</div></div> </div> </template> </template> </div>` };